#!/usr/bin/env bash

versions=("4.0.8" "3.7.9" "3.7.10" "3.8.9" "3.8.10" "3.9.7" "3.9.8" "4.0.6" "4.0.7" "4.1.6" "4.1.7")

touch hashes.txt

for i in "${versions[@]}"
do
    echo "Downloading WordPress v$i..."
    wget -o /dev/null http://wordpress.org/wordpress-$i.zip
    echo "Done."
    mv wordpress-$i.zip latest.zip > /dev/null
    echo "Generating hashes-$i.php..."
    php hashes-generator.php > hashes-$i.php
    echo "Done."
    echo "Generating checksums..."
    md5sum hashes-$i.php >> hashes.txt
    sha1sum hashes-$i.php >> hashes.txt
    echo "Done."
    echo "Cleaning up."
    rm latest.zip
done

echo "All finished."